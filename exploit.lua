local entites = ents.GetAll()

-- add more entity classes to the list if they are apart of the sprinter addon.
local printerClasses = {
	"sprinter_silver_printer",
	"sprinter_diamond_printer",
	"sprinter_bronze_printer",
	"sprinter_obsidian_printer",
	"sprinter_plutonium_printer",
	"sprinter_platinum_printer",
	"sprinter_rack",
	--"sprinter_bag", -- dont need?
}
 
hook.Add("Think", "PrinterCollector", function()
	local function send(ent)
 
		net.Start("sP:Networking")
		net.WriteEntity(ent)
		net.WriteUInt(1, 3) -- the action. 1 = withdraw.
      -- Change the 1 to a 2 or 3. DO NOT EDIT THE RIGHT NUMBER.
		net.WriteUInt(1, 2) -- leave alone
		net.SendToServer()
	
	end
 
    for _, ent in ipairs(entites) do
 
		if IsValid(ent) then
 
			local class = ent:GetClass() or ent.Base -- stores the entity class (e.g: sprinter_platinum_printer)
 
			for i,v in pairs(printerClasses) do
				
				if string.starts(class, v) then
            
					timer.Simple(2.5, function()
						send(ent)
					end)
            
				end
 
        end
 
			end
		
		end
 
        
    end
 
end)
